<?xml version="1.0" encoding="windows-1251"?>
<!-- edited with XML Spy v4.3 U (http://www.xmlspy.com) by LEGO (LEGO) -->
<FORM_DESCRIPTION xmlns="http://www.cognitive.ru/XML/2001/ctform" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cognitive.ru/XML/2001/ctform  ctform.xsd" name="CancelProcedure">
	<CONTENT_MODEL dfattchfiles="|Document|files" dfnumberdoc="|Document|Число_регномера" key="Key">
		<E name="Key" datatype="integer" index="false" default="&quot;1&quot;" view="invisible" displayname="Ключ" dfprotected="true"/>
		<E name="ИД_последний_редактор" datatype="text" index="true" displayname="ИД последний редактор" dfhidden="true" view="invisible"/>
		<E name="Имя_последний_редактор" datatype="text" index="true" displayname="Имя последний редактор" dfhidden="true" view="invisible"/>
		<S name="Document" displayname="Документ" use="LNotice"><E displayname="Регистрационный номер" name="Регистрационный_номер" datatype="text(249)" index="true" dfprotected="true" dfhidden="true"/>
			<E displayname="Префикс рег. номера" name="Префикс_регномера" datatype="dictionary(Prefix,text)" edit="combobox(Prefix)" index="true" view="invisible" dfprotected="false"/>
			<E displayname="Порядковый рег. номер" name="Число_регномера" datatype="integer(+1..)" index="true" view="invisible" dfprotected="true" required="true"/>
			<E displayname="Суффикс рег. номера" name="Суффикс_регномера" datatype="dictionary(Suffix,text)" edit="combobox(Suffix)" dfprotected="false" index="true" view="invisible"/>
			<E displayname="Дата регистрации" name="Дата_регистрации" datatype="date" edit="" index="true" dfprotected="true" required="true" esp="false" default="nowdate()"/>
			<E displayname="Вид документа" name="Вид_документа" datatype="dictionary(VidDocNames,text)" index="true" dfprotected="true" required="false" edit="combobox" value="&quot;Извещение о закупочной  процедуре&quot;" view="invisible"/>
			<E displayname="Краткое содержание" name="Краткое_содержание" datatype="longtext" euflag="7" index="true" dfprotected="true" required="false" edit="multiline" awindex="true" view="invisible" default="&quot;Извещение о закупочной  процедуре&quot;" value="&quot;Извещение о закупке: &quot; + Название_закупки + &quot; , способ закупки: &quot;  Способ_закупки + &quot; , плановая дата размещения &quot;+   Порядок_проведения_процедуры|Плановая_дата_размещения  + &quot; НМЦ &quot; +  НМЦ_с_НДС "/>
			<E displayname="Имя потока" name="Имя_потока" datatype="text" index="false" view="invisible" dfprotected="true" dfhidden="true" esp="false"/>
			<E displayname="ИД потока" name="ИД_потока" datatype="integer" index="false" dfprotected="true" dfhidden="false" esp="false" view="invisible"/>
			<E displayname="ИД регистратора" name="ИД_регистратора" datatype="integer" index="false" dfprotected="true" dfhidden="false" esp="false" view="invisible"/>
			<E name="header" datatype="text" index="false" value="&quot;Извещение о закупочной  процедуре&quot;
"/><E name="subheader" datatype="text" index="false" view="invisible"/>
			<E name="Статус" datatype="dictionary(Статусы извещения,text)" index="true" displayname="Статус" required="false" edit="textbox" default="&quot;Подготовка извещения&quot;"/>
			<E name="Номер_на_ЭТП" datatype="text" index="true" displayname="Номер на ЭТП"/>
			<E name="Название_закупки" datatype="longtext" index="true" displayname="Название закупки" dictpath="" awindex="true" euflag="7" required="true"/>
			<E name="Дата_создания_извещения" datatype="datetime" index="true" displayname="Дата создания извещения" view="invisible"/>
			<E name="Фактическая_дата_размещения" datatype="datetime" index="true" displayname="Фактическая дата размещения" view="invisible"/>
			<E name="Номер_редакции" datatype="integer" index="true" displayname="Номер редакции" required="false" default="1"/>
			<S name="Контактное_лицо" displayname="Контактное лицо"><E name="Контактное_лицо_организация" datatype="dictionary(Организации заказчики,text)" index="true" displayname="Контактное лицо организация" required="false" view="invisible" dictpath=""/><E name="Контактное_лицо_организация_наименование" datatype="dictionary(Организации заказчики,text)@Краткое наименование" index="true" displayname="Контактное лицо организация наименование" dictpath="" required="true" absettings="&lt;ROOT title=&quot;Контактное лицо организация&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;False&quot; SelectedUser=&quot;True&quot; SelectedGroup=&quot;True&quot; SelectedDepartments=&quot;True&quot;&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;"/><S name="Контактное_лицо" displayname="Контактное лицо"><E name="Контактное_лицо_email" datatype="text" index="true" displayname="Контактное лицо email" required="true" dictpath=""/><E name="Контактное_лицо_телефон" datatype="text" index="true" required="true" displayname="Контактное лицо телефон" dictpath=""/><E name="Контактное_лицо_фамилия" datatype="text" index="true" displayname="Контактное лицо фамилия" required="true"/><E name="Контактное_лицо_имя" datatype="text" index="true" displayname="Контактное лицо имя" required="true"/><E name="Контактное_лицо_отчество" datatype="text" index="true" displayname="Контактное лицо отчество" required="false"/><E name="код_страны" datatype="text" index="true"/><E name="код_города" datatype="text" index="true"/><E name="телефон" datatype="text" index="true"/><E name="добавочный" datatype="text" index="true"/><E name="Контактное_лицо" datatype="integer" index="true" displayname="Контактное лицо" extype="addressbook" abdata="Id" view="invisible"/>
					<E name="Контактное_лицо_ФИО" datatype="text" index="true" displayname="Контактное лицо ФИО" dictpath="" edit="textbox,tool(CallTools.AddressBookTool)" absettings="&lt;ROOT title=&quot;Контактное лицо ФИО&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;False&quot; SelectedUser=&quot;True&quot; SelectedGroup=&quot;False&quot; SelectedDepartments=&quot;False&quot;&gt;&lt;DateDictionary Name=&quot;Persons&quot; DisplayName=&quot;Пользователи&quot; /&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;" required="true"/>
					<E name="Контактное_лицо_телефон_ЕЭТП" datatype="text" index="true" displayname="Контактное_лицо_телефон ЕЭТП"/><E name="Код_страны_факс" datatype="text" index="true" displayname="Код страны факс"/>
					<E name="Телефон_факс" datatype="text" index="true" displayname="Телефон факс"/><E name="Код_города_факс" datatype="text" index="true" displayname="Код города факс"/>
					<E name="Контактное_лицо_факс" datatype="text" index="true" displayname="Контактное лицо факс"/><E name="Контактное_лицо_факт_ЕЭТП" datatype="text" index="true" displayname="Контактное лицо факт ЕЭТП"/><E name="Добавочный_факс" datatype="text" index="true" displayname="Добавочный факс"/><E name="Контактное_лицо_доп_инф" datatype="longtext" index="true" displayname="Контактное лицо доп инфо"/><E name="Контактное_лицо_добавочный" datatype="text" index="true" displayname="Контактное лицо добавочный"/></S><E name="Адрес" datatype="longtext" index="true"/></S><E name="Номер_в_ЕИС" datatype="text" index="true" displayname="Номер в ЕИС"/><E name="Наименование_ЭТП" datatype="dictionary(Электронные площадки,text)" index="true" displayname="Наименование ЭТП" required="" dictpath="" requiredex=" Закупка_в_электронной_форме "/><E name="Адрес_ЭТП" datatype="text" index="true" displayname="Адрес ЭТП" required="" dictpath=""/><S name="Организатор_закупки" displayname="Организатор закупки"><E name="Организатор_закупки_наименование" datatype="longtext" index="true" displayname="Организатор закупки наименование" required="true" dictpath="" edit="textbox" absettings="&lt;ROOT title=&quot;Организатор закупки&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;True&quot; SelectedUser=&quot;True&quot; SelectedGroup=&quot;True&quot; SelectedDepartments=&quot;True&quot;&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;" extype="addressbook" abdata="Name"/><E name="Организатор_закупки" datatype="integer" index="true" displayname="Организатор закупки" required="false" dictpath="" view="invisible" extype="addressbook" abdata="Id"/><E name="Организатор_закупки_id" datatype="integer" index="true" displayname="Организатор закупки id" required="false" dictpath="" view="invisible" extype="addressbook" abdata="Id"/><E name="Организатор_закупки_ИНН" datatype="text" index="true" extype="addressbook" abdata="INN" displayname="Организатор закупки ИНН"/><E name="Организатор_закупки_КПП" datatype="text" index="true" extype="addressbook" abdata="KPP" displayname="Организатор закупки КПП"/><E name="Организатор_закупки_ОРГН" datatype="text" index="true" extype="addressbook" abdata="OGRN" displayname="Организатор закупки ОРГН"/><E name="Ид_организации_на_ЭТП" datatype="text" index="true" displayname="Ид организации на ЭТП"/><E name="Организатор_закупки_спраочный_код" datatype="text" index="true" displayname="Организатор закупки спраочный код"/><E name="Организатор_закупки_ЕИС" datatype="text" index="true" displayname="Организатор_закупки ЕИС" extype="addressbook" abdata="EISCode223"/><E name="Организатор_закупки_ЕИС_справочный" datatype="text" index="true" displayname="Организатор_закупки_ЕИС_справочный"/></S><E name="Способ_закупки" datatype="dictionary(Организации заказчики,text)@Наименование" index="true" displayname="Способ закупки" required="true" edit="textbox" dictpath="|[|Document|Организация_заказчик|Организация_заказчик]|Способ закупки"/><E name="Способ_закупки_код" datatype="dictionary(Организации заказчики,text)" index="true" displayname="Способ закупки код" dictpath="|[|Document|Организация_заказчик|Организация_заказчик]|Способ закупки" view="invisible"/><S name="Организация_заказчик" displayname="Организация заказчик"><E name="Организация_заказчик_наименование" datatype="longtext" index="true" dictpath="" required="true" displayname="Организация заказчик наименование" absettings="&lt;ROOT title=&quot;Организация заказчик&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;False&quot; SelectedUser=&quot;False&quot; SelectedGroup=&quot;False&quot; SelectedDepartments=&quot;False&quot;&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;" edit="textbox" extype="addressbook" abdata="Name"/><E name="Организация_заказчик" datatype="integer" index="true" displayname="Организация заказчик" required="false" dictpath="" view="invisible" extype="addressbook" abdata="Id"/><E name="Организация_заказчик_ИНН" datatype="text" index="true" displayname="Организация заказчик ИНН" extype="addressbook" abdata="INN"/><E name="Организация_заказчик_КПП" datatype="text" index="true" displayname="Организация заказчик КПП" extype="addressbook" abdata="KPP"/><E name="Организация_заказчик_ОГРН" datatype="text" index="true" extype="addressbook" abdata="OGRN" displayname="Организация заказчик ОГРН"/><E name="Организация_заказчик_ЕИС" datatype="text" index="true" displayname="Организация_заказчик ЕИС" extype="addressbook" abdata="EISCode223"/></S><E name="Форма_торгов_код" datatype="text" index="true" displayname="Форма торгов код"/><E name="Форма_торгов" datatype="text" index="true" displayname="Форма торгов"/><E name="Количество_этапов" datatype="integer" index="true" displayname="Количество этапов"/><E name="ИД_на_ЭТП" datatype="text" index="true" displayname="ИД на ЭТП"/><E name="ИД_ЭТП" datatype="text" index="true" displayname="ИД ЭТП" view="invisible"/><E name="Количество_связанных_лотов" datatype="integer" index="true" view="invisible" displayname="Количество связанных лотов"/><S name="Ответственный_исполнитель" displayname="Ответственный исполнитель"><E name="Ответственный_исполнитель" datatype="integer" index="true" displayname="Ответственный исполнитель" extype="addressbook" abdata="Id" view="invisible"/><E name="Ответственный_исполнитель_ФИО" datatype="text" index="true" displayname="Ответственный исполнитель ФИО" dictpath="" edit="textbox,tool(CallTools.AddressBookTool)" absettings="&lt;ROOT title=&quot;Ответственный исполнитель ФИО&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;False&quot; SelectedUser=&quot;True&quot; SelectedGroup=&quot;False&quot; SelectedDepartments=&quot;False&quot;&gt;&lt;DateDictionary Name=&quot;Persons&quot; DisplayName=&quot;Пользователи&quot; /&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;" required="false" abdata="Name"/><E name="Ответственный_исполнитель_телефон" datatype="text" index="true" displayname="Ответственный_исполнитель_телефон"/><E name="Ответственный_исполнитель_email" datatype="text" index="true" displayname="Ответственный_исполнитель_email"/></S><S name="Ответственный_руководитель" displayname="Ответственный руководитель"><E name="Ответственный_руководитель" datatype="integer" index="true" displayname="Ответственный руководитель" extype="addressbook" abdata="Id" view="invisible"/><E name="Ответственный_руководитель_ФИО" datatype="text" index="true" displayname="Ответственный руководитель ФИО" dictpath="" edit="textbox,tool(CallTools.AddressBookTool)" absettings="&lt;ROOT title=&quot;Ответственный руководитель ФИО&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;False&quot; SelectedUser=&quot;True&quot; SelectedGroup=&quot;False&quot; SelectedDepartments=&quot;False&quot;&gt;&lt;DateDictionary Name=&quot;Persons&quot; DisplayName=&quot;Пользователи&quot; /&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;" required="false" abdata="Name"/><E name="Отдел" datatype="text" index="true" displayname="Отдел"/><E name="Ответственный_исполнитель_телефон" datatype="text" index="true" displayname="Ответственный_исполнитель_телефон"/><E name="Ответственный_исполнитель_email" datatype="text" index="true" displayname="Ответственный_исполнитель_email"/></S><E name="Отмена_закупки" datatype="boolean" index="true" displayname="Отмена закупки"/><E name="Дата_принятия_решения_отмена" datatype="datetime" index="true" displayname="Дата принятия решения отмена"/><E name="Основание_принятия_решения_отмена" datatype="longtext" index="true" displayname="Основание принятия решения отмена"/><A name="Заказчик_права_таблица" displayname="Заказчик права таблица"><S name="S1"><E name="Заказчик_код_права" datatype="integer" index="true" displayname="Заказчик код права"/><E name="Заказчик_наименование_права" datatype="text" index="true" displayname="Заказчик наименование права"/></S></A><E name="ParentRK" datatype="text" index="true" displayname="ParentRK"/><E name="Актуальность" datatype="boolean" index="true" displayname="Актуальность"/><E name="Внутренний_номер" datatype="text" index="true" displayname="Внутренний номер"/><S name="Подразделение_инициатор" displayname="Подразделение инициатор"><E name="Подразделение_инициатор_наименование" datatype="text" index="true" displayname="Подразделение инициатор наименование" required="true" dictpath="" edit="tool(CallTools.AddressBookTool)" absettings="&lt;ROOT title=&quot;Организатор закупки&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;False&quot; SelectedUser=&quot;False&quot; SelectedGroup=&quot;False&quot; SelectedDepartments=&quot;True&quot;&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;" abdata="Name"/><E name="Подразделение_инициатор" datatype="integer" index="true" displayname="Подразделение инициатор" required="false" dictpath="" edit="textbox" abdata="Id" extype="addressbook" view="invisible"/></S><E name="Филиал" datatype="text" index="true" displayname="Филиал"/><E name="Дата_отправки" datatype="datetime" index="true" displayname="Дата отправки"/><A name="Участники_комиссии" displayname="Участники комиссии" use="table">
				<S name="S1">
					<E name="Присутствие" datatype="boolean" index="true" displayname="Присутствие" default="0" required="true"/>
					<E name="Номер" datatype="integer" index="true"/>
					<S name="ФИО_комиссии" displayname="ФИО комиссии">
						<E name="ФИО_комиссии" datatype="text" index="true" displayname="ФИО комиссии" abdata="Id" extype="addressbook"/>
						<E name="Фамилия_комиссии" datatype="text" index="true" displayname="Фамилия комиссии" extype="addressbook"/>
						<E name="Имя_комиссии" datatype="text" index="true" displayname="Имя комиссии" extype="addressbook"/>
						<E name="Отчество_комиссии" datatype="text" index="true" displayname="Отчество комиссии" extype="addressbook"/>
					</S>
					<E name="Участники_комиссии_роль" datatype="dictionary(Роль участника комиссии,text)@Наименование" index="true" displayname="Участники комиссии роль" required="true"/>
					<E name="Участники_комиссии_роль_код" datatype="dictionary(Роль участника комиссии,text)" index="true" dictpath=""/>
					<E name="Участник_комиссии" datatype="text" index="true" displayname="Участник_комиссии"/></S>
			</A>
			<E name="Название_комиссии_код" datatype="text" index="true" displayname="Название_комиссии_код"/><E name="Название_комиссии" datatype="longtext" index="true" displayname="Название комиссии"/>
			<S name="Инициатор"><E name="Инициатор" datatype="integer" index="true" displayname="Инициатор" extype="addressbook" abdata="Id"/><E name="Инициатор_ФИО" datatype="text" index="true" displayname="Инициатор ФИО" abdata="Name"/></S><S name="Руководитель_инициатора" displayname="Руководитель инициатора"><E name="Руководитель_инициатора" datatype="integer" index="true" displayname="Руководитель инициатора" extype="addressbook" abdata="Id"/><E name="Руководитель_инициатора_ФИО" datatype="text" index="true" displayname="Руководитель инициатора ФИО" abdata="Name"/></S><E name="Планируемый_год" datatype="integer" index="true" displayname="Планируемый год"/><E name="ИД_документа" datatype="integer" index="true" displayname="ИД документа"/>
			<E name="Ссылка_на_торговой_площадке" datatype="url" index="true" displayname="Ссылка на торговой площадке"/><E name="Url_площадки" datatype="text" index="true" displayname="Url площадки"/><E name="ИД_редакции" datatype="text" index="true" displayname="ИД редакции"/><E name="Отмена_закупки_согласована" datatype="boolean" index="true" displayname="Отмена закупки согласована"/><S name="Сбербанк_АСТ" displayname="Сбербанк АСТ"><E name="ИД_документа_на_ЭТП" datatype="integer" index="true" displayname="ИД документа на ЭТП"/><E name="Гуид_протокола_итогов" datatype="text" index="true" displayname="Гуид протокола итогов"/></S><E name="Дата_последнего_обновления" datatype="datetime" index="true" displayname="Дата последнего обновления"/><A name="Лоты" displayname="Лоты"><S name="S1"><E name="Лот_docId" datatype="text" index="true" displayname="Лот docId"/><E name="Лот_Номер_лота_в_извещении" datatype="text" index="true" displayname="Лот Номер лота в извещении"/><E name="Лот_Предмет_договора" datatype="longtext" index="true" displayname="Лот Предмет договора"/><E name="Лот_Отменить_лот" datatype="text" index="true" displayname="Лот Отменить лот"/><E name="Лот_Дата_отмены_лота" datatype="datetime" index="true" displayname="Лот Дата отмены лота"/><E name="Лот_Причина_отмены_лота" datatype="longtext" index="true" displayname="Лот Причина отмены лота"/><E name="Лот_ИД_Лота_на_ЭТП" datatype="text" index="true" displayname="Лот ИД Лота на ЭТП"/><E name="Лот_Статус" datatype="text" index="true" displayname="Лот Статус"/><E name="Лот_Отмена_лота" datatype="boolean" index="true" displayname="Лот Отмена лота"/></S></A><S name="Отмена_процедуры" displayname="Отмена процедуры"><E name="Отмена_процедуры_в_целом" datatype="text" index="true" displayname="Отмена процедуры в целом"/><S name="Орган_выдавший_решение" displayname="Орган выдавший решение"><E name="Орган_выдавший_решение_код" datatype="text" index="true" displayname="Орган выдавший решение код"/><E name="Орган_выдавший_решение_наименование" datatype="longtext" index="true" displayname="Орган выдавший решение наименование"/><E name="Орган_выдавший_решение_ИД_на_ЭТП" datatype="text" index="true" displayname="Орган выдавший решение ИД на ЭТП"/></S></S><E name="ИД_извещения" datatype="text" index="true" displayname="ИД извещения"/><E name="ИД_извещения_на_ЭТП" datatype="text" index="true" displayname="ИД извещения на ЭТП"/><E name="Статус_извещения_на_ЭТП" datatype="text" index="true" displayname="Статус извещения на ЭТП"/><S name="Управление" displayname="Управление"><E name="Управление" datatype="integer" index="true" displayname="Управление" extype="addressbook" abdata="Id"/><E name="Управление_наименование" datatype="text" index="true" displayname="Управление наименование" abdata="Name"/></S><S name="Руководитель_управления" displayname="Руководитель управления"><E name="Руководитель_управления" datatype="integer" index="true" displayname="Руководитель управления" extype="addressbook" abdata="Id"/><E name="Руководитель_управления_ФИО" datatype="text" index="true" displayname="Руководитель управления ФИО" abdata="Name"/></S><S name="Ответственный_отдела_планирования" displayname="Ответственный отдела планирования"><E name="Ответственный_отдела_планирования" datatype="integer" index="true" displayname="Ответственный отдела планирования" extype="addressbook" abdata="Id"/><E name="Ответственный_отдела_планирования_ФИО" datatype="text" index="true" displayname="Ответственный отдела планирования ФИО" abdata="Name" extype="addressbook"/></S><S name="Ответственный_отдела_закупки" displayname="Ответственный отдела закупки"><E name="Ответственный_отдела_закупки" datatype="integer" index="true" displayname="Ответственный отдела закупки" extype="addressbook" abdata="Id"/><E name="Ответственный_отдела_закупки_ФИО" datatype="text" index="true" displayname="Ответственный отдела закупки ФИО" extype="addressbook" abdata="Name"/></S><E name="Закупка_отменяется_в_следствии_непреодолимой_силы" datatype="boolean" index="true" displayname="Закупка_отменяется_в_следствии_непреодолимой_силы"/></S>
		<S name="Links" use="LNoticeLoT" displayname="Связки"><E name="header" datatype="text" index="false" value="&quot;Лоты пример&quot;"/>
			<E name="subheader" datatype="text" index="false"/></S><S name="Files" use="FilesNotice" displayname="Документация">
			<E name="header" datatype="text" index="false" value="&quot;Документация&quot;"/><E name="subheader" datatype="text" index="false"/></S>
		<S name="FilesIntegration" use="FilesIntegration" displayname="Файлы интеграции">
			<E name="header" datatype="text" index="false" value="&quot;Файлы интеграции&quot;"/><E name="subheader" datatype="text" index="false"/></S>
		<S name="LinksNotice" use="LinksOrderAdd" displayname="Заявки на размещение">
			<E name="header" datatype="text" index="false" value="&quot;Заявки на размещение закупки&quot;" view="invisible"/>
			<E name="subheader" datatype="text" index="false" view="invisible"/>
		</S>
		<S name="LinkScheduleItem" displayname="Позиции ПЗ" use="LinkScheduleItem">
			<E name="header" datatype="text" index="false" value="&quot;Позиции плана-закупки&quot;" view="invisible"/>
			<E name="subheader" datatype="text" index="false" view="invisible"/>
		</S>
	</CONTENT_MODEL>
	<SCRIPT language="VBScript">Dim oTrace

Dim saveCheck
saveCheck=0

Sub generate_num

'oTrace.Trace " VBCRPT generate_num..."

  Dim rn
  pref = Data("|Document|Префикс_регномера").Value
  num = Data("|Document|Число_регномера").Value
  suf = Data("|Document|Суффикс_регномера").Value

 if Len(num) = 0 then
'	oTrace.Trace " VBCRPT End generate_num(Нет номера)"
	Exit Sub
 end if

  if Len(pref)&gt;0 then
	rn = CStr(rn) + pref + "-"
  end if
  rn = CStr(rn) + CStr(num)
  if Len(suf)&gt;0 then
     rn = CStr(rn) + "-" + CStr(suf)
  end if

    Data("|Document|Регистрационный_номер")=CStr(rn)
    Exit Sub

'  oTrace.Trace " VBCRPT End generate_num"
  err_exit:
  Form.MsgBox err.Description
End Sub
    

Sub clear_all_readonly
'   oTrace.Trace " VBCRPT clear_all_readonly..."
    Data("|Document|Число_регномера").Attribute("readonly")=""
'      oTrace.Trace " VBCRPT end clear_all_readonly"
End Sub

 Sub prepare_completed
'   oTrace.Trace " VBCRPT prepare_completed..."
    clear_all_readonly
    Data("|Document|Число_регномера").Attribute("readonly")="true"
'   oTrace.Trace " VBCRPT End prepare_completed"
    End Sub

    Sub prepare_wfclosed
'    oTrace.Trace " VBCRPT prepare_wfclosed..."
'    oTrace.Trace " VBCRPT End prepare_wfclosed"
    End Sub

    Sub prepare_finder
'    oTrace.Trace " VBCRPT prepare_finder..."
    clear_all_readonly
'    oTrace.Trace " VBCRPT End prepare_finder"
    End Sub

    Sub prepare_registration
'    oTrace.Trace " VBCRPT prepare_registration..."
    clear_all_readonly
    Data("|Document|Число_регномера").Attribute("readonly")="true"
'    oTrace.Trace " VBCRPT End prepare_registration"
    End Sub

    Sub Form_NamedEvent( evt )
'    oTrace.Trace " VBCRPT Form_NamedEvent..."
    if evt = "dfmakestrregnum" then
    generate_num
    End If
    if evt = "dfrgmregistration" then
    prepare_registration
    End If
    if evt = "dfrgmfinder" then
    prepare_finder
    End If
    if evt = "dfrgmcompleted" then
    prepare_completed
    End If
    if evt = "dfrgmwfclosed" then
    prepare_wfclosed
    End if


    if evt="dfpreparestrregnum" then 'началось сохранение документа
       saveCheck=1
    end if

    if evt="dfmakestrregnum" then 'закончилось сохранение документа
       saveCheck=0
    end if

'   oTrace.Trace " VBCRPT End Form_NamedEvent"
    End Sub

Set ctx = CreateObject("Form.ExecutionContext")

    Sub Form_Load
'    Set oTrace = CreateObject("TRACE.VBTracer")
'    oTrace.Trace " VBCRPT End Form_Load"


    End Sub


    Sub Form_Unload
'    oTrace.Trace " VBCRPT Form_Unload..."
'    Set oTrace = Nothing
    End Sub

    sub form_FieldDataChanged(field)
    s = field.Attribute("frm.abstoredata")
    if s &lt;&gt; "" and field.Value = "" then
    Set arr = field.Parent(s)
    if not arr is nothing then
    arr.RemoveAll
    end if
    end if

   ' Документ не сохраняется
   if saveCheck=0 then

           ' Очистить скрытые поля при изменении способа закупки
         if field.name = "Способ_закупки" then

      '        Select case field.value              

        '            Case "Закупка у единственного поставщика"
                         Data("|Document|Порядок_проведения_процедуры|Место_проведения_аукциона").Value = ""
                         Data("|Document|Порядок_проведения_процедуры|Дата_рассмотрения_вторых_частей_заявок").Value = ""
                         Data("|Document|Порядок_проведения_процедуры|Место_вскрытия_конвертов").Value = ""
                         Data("|Document|Порядок_проведения_процедуры|Дата_вскрытия_конвертов").Value = ""
                         Data("|Document|Порядок_проведения_процедуры|Место_подведения_итогов").Value = ""
                         Data("|Document|Порядок_проведения_процедуры|Дата_подведения_итогов").Value = ""
                         Data("|Document|Порядок_проведения_процедуры|Дата_рассмотрения_заявок").Value = ""
                    Data("|Document|Порядок_проведения_процедуры|Место_рассмотрения_заявок").Value = ""                    
                    

           '   end select

         end if


          ' Очистили поле Валюта
          if field.name = "Валюта" and Len(field.value)=0 then
                  Data("|Document|Цифровой_код_валюты")= ""
                  Data("|Document|Код_валюты")= ""
          end if
		  
    end if
end sub

'</SCRIPT>
	<plugins>
		<restriction displayname="Генерация номера" progid="Euphfrm.RegNumGenerator" root="" initstring="">
			<arg role="numberdoc" path="|S|Число_регномера"/>
			<arg role="flow" path="|S|ИД_потока"/>
			<arg role="regnum" path="|S|Регистрационный_номер"/>
			<checkentry type="onevent" param="dfgenerateregnum" action="error"/>
		</restriction>
		<dictionary name="Тип связки" progid="FrmTools.DictSource" inittime="once" initstring="stored:Тип связки"/><dictionary name="Валюта" progid="FrmTools.DictSource" inittime="field" initstring="stored:Валюта"/><dictionary name="Способ закупки" progid="FrmTools.DictSource" inittime="once" initstring="stored:Способ закупки"/><dictionary name="Электронные площадки" progid="FrmTools.DictSource" inittime="field" initstring="stored:Электронные площадки"/><dictionary name="Организации" progid="FrmTools.DictSource" inittime="field" initstring="stored:Организации"/><dictionary name="Вид закупки" progid="FrmTools.DictSource" inittime="once" initstring="stored:Вид закупки"/><dictionary name="Статусы извещения" progid="FrmTools.DictSource" inittime="once" initstring="stored:Статусы извещения"/><dictionary name="Организации заказчики" progid="FrmTools.DictSource" inittime="field" initstring="stored:Организации заказчики"/></plugins>
</FORM_DESCRIPTION>
