<?xml version="1.0" encoding="windows-1251"?>
<!-- edited with XML Spy v4.3 U (http://www.xmlspy.com) by LEGO (LEGO) -->
<FORM_DESCRIPTION xmlns="http://www.cognitive.ru/XML/2001/ctform" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cognitive.ru/XML/2001/ctform  ctform.xsd" name="LProtocol223">
  <CONTENT_MODEL dfattchfiles="|Document|files" dfnumberdoc="|Document|Число_регномера" key="Key">
    <E name="Key" datatype="integer" index="false" default="&quot;1&quot;" view="invisible" displayname="Ключ" dfprotected="true" />
    <E name="ИД_последний_редактор" datatype="text" index="true" displayname="ИД последний редактор" dfhidden="true" view="invisible" />
    <E name="Имя_последний_редактор" datatype="text" index="true" displayname="Имя последний редактор" dfhidden="true" view="invisible" />
    <S name="Document" displayname="Документ" use="LProtocol">
      <E displayname="Регистрационный номер" name="Регистрационный_номер" datatype="text(249)" index="true" dfprotected="true" dfhidden="true" />
      <E displayname="Префикс рег. номера" name="Префикс_регномера" datatype="dictionary(Prefix,text)" edit="combobox(Prefix)" index="true" view="invisible" dfprotected="false" />
      <E displayname="Порядковый рег. номер" name="Число_регномера" datatype="integer(+1..)" index="true" view="invisible" dfprotected="true" required="true" />
      <E displayname="Суффикс рег. номера" name="Суффикс_регномера" datatype="dictionary(Suffix,text)" edit="combobox(Suffix)" dfprotected="false" index="true" view="invisible" />
      <E displayname="Дата регистрации" name="Дата_регистрации" datatype="date" edit="" index="true" dfprotected="true" required="true" esp="false" default="nowdate()" />
      <E displayname="Вид документа" name="Вид_документа" datatype="dictionary(VidDocNames,text)" index="true" dfprotected="true" required="false" edit="combobox" value="&quot;Протокол&quot;" view="invisible" />
      <E displayname="Краткое содержание" name="Краткое_содержание" datatype="longtext" euflag="7" index="true" dfprotected="true" required="false" edit="multiline" awindex="true" view="invisible" default="&quot;Протокол&quot;" />
      <E displayname="Имя потока" name="Имя_потока" datatype="text" index="false" view="invisible" dfprotected="true" dfhidden="true" esp="false" />
      <E displayname="ИД потока" name="ИД_потока" datatype="integer" index="false" dfprotected="true" dfhidden="false" esp="false" view="invisible" />
      <E displayname="ИД регистратора" name="ИД_регистратора" datatype="integer" index="false" dfprotected="true" dfhidden="false" esp="false" view="invisible" />
      <E name="header" datatype="text" index="false" value="&quot;Протокол&quot; " />
      <E name="subheader" datatype="text" index="false" view="invisible" />
      <E name="Номер_редакции" datatype="integer" index="true" displayname="Номер редакции" />
      <E name="ИД_в_ЕИС" datatype="text" index="true" displayname="ИД в ЕИС" view="invisible" />
      <E name="Фактическая_дата_размещения" datatype="datetime" index="true" displayname="Фактическая дата размещения" required="false" />
      <E name="Номер_протокола_в_ЕИС" datatype="text" index="true" displayname="Номер протокола в ЕИС" />
      <S name="Организация_заказчик" displayname="Организация заказчик">
        <E name="Организация_заказчик_наименование" datatype="longtext" index="true" dictpath="" required="true" displayname="Организация заказчик наименование" absettings="&lt;ROOT title=&quot;Организация заказчик&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;False&quot; SelectedUser=&quot;False&quot; SelectedGroup=&quot;False&quot; SelectedDepartments=&quot;False&quot;&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;" edit="textbox" extype="addressbook" abdata="Name" />
        <E name="Организация_заказчик" datatype="integer" index="true" displayname="Организация заказчик" required="false" dictpath="" extype="addressbook" abdata="Id" />
        <E name="Организация_заказчик_ЕИС" datatype="text" index="true" displayname="Организация_заказчик_ЕИС" extype="addressbook" abdata="EISCode223" />
        <E name="Организация_заказчик_ИНН" datatype="text" index="true" displayname="Организация_заказчик_ИНН" extype="addressbook" abdata="INN" />
        <E name="Организация_заказчик_КПП" datatype="text" index="true" displayname="Организация_заказчик_КПП" extype="addressbook" abdata="KPP" />
        <E name="Организация_заказчик_ОГРН" datatype="text" index="true" extype="addressbook" abdata="OGRN" />
      </S>
      <S name="Организатор_закупки" displayname="Организатор закупки">
        <E name="Организатор_закупки_наименование" datatype="longtext" index="true" displayname="Организатор закупки наименование" required="true" dictpath="" edit="textbox" absettings="&lt;ROOT title=&quot;Организатор закупки&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;True&quot; SelectedUser=&quot;True&quot; SelectedGroup=&quot;True&quot; SelectedDepartments=&quot;True&quot;&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;" extype="addressbook" abdata="Name" />
        <E name="Организатор_закупки" datatype="integer" index="true" displayname="Организатор закупки" required="false" dictpath="" view="invisible" extype="addressbook" abdata="Id" />
        <E name="Организатор_закупки_ИНН" datatype="text" index="true" extype="addressbook" abdata="INN" />
        <E name="Организатор_закупки_КПП" datatype="text" index="true" extype="addressbook" abdata="KPP" />
        <E name="Организатор_закупки_ОРГН" datatype="text" index="true" extype="addressbook" abdata="OGRN" />
        <E name="Организатор_закупки_ЕИС" datatype="text" index="true" displayname="Организатор закупки ЕИС" extype="addressbook" abdata="EISCode223" />
      </S>
      <E name="Изменение" datatype="boolean" index="true" default="0" />
      <E name="ИД_в_ЕИС_изменение" datatype="longtext" index="true" displayname="ИД в ЕИС изменение" view="invisible" />
      <E name="Номер_извещения_в_ЕИС" datatype="text" index="true" displayname="Номер извещения в ЕИС" />
      <E name="ИД_извещения" datatype="integer" index="true" displayname="ИД извещения" view="invisible" />
      <E name="Дата_подписания_протокола" datatype="date" index="true" displayname="Дата подписания протокола" />
      <E name="Способ_закупки_код" datatype="dictionary(Организации заказчики,text)" index="true" displayname="Способ закупки код" dictpath="|[|Document|Организация_заказчик|Организация_заказчик]|Способ закупки" view="invisible" />
      <E name="Способ_закупки" datatype="dictionary(Организации заказчики,text)@Наименование" index="true" displayname="Способ закупки" required="true" edit="textbox" dictpath="|[|Document|Организация_заказчик|Организация_заказчик]|Способ закупки" />
      <E name="Код_протокола" datatype="dictionary(Организации заказчики,text)" index="true" displayname="Код протокола" dictpath="|[|Document|Организация_заказчик|Организация_заказчик]|Способ закупки|[|Document|Способ_закупки_код]|Протоколы" />
      <E name="Наименование_протокола" datatype="dictionary(Организации заказчики,text)" index="true" displayname="Наименование протокола" dictpath="" required="true" />
      <E name="Статус" datatype="text" index="true" default="&quot;Подготовка протокола&quot;" />
      <E name="Закупка_не_состоялась" datatype="boolean" index="true" displayname="Закупка не состоялась" default="0" />
      <E name="Причина_признания_несостоявшейся" datatype="longtext" index="true" displayname="Причина признания несостоявшейся" />
      <E name="Обоснование_внесения_изменений" datatype="longtext" index="true" displayname="Обоснование внесения изменений" />
      <E name="ИД_ЭТП" datatype="text" index="true" displayname="ИД ЭТП" view="invisible" />
      <E name="ИД_на_ЭТП" datatype="text" index="true" displayname="ИД на ЭТП" />
      <E name="ИД_извещения_на_ЭТП" datatype="text" index="true" displayname="ИД извещения на ЭТП" />
      <E name="Дата_признания_несостоявшейся" datatype="date" index="true" displayname="Дата признания несостоявшейся" />
      <E name="ИД_лота" datatype="integer" index="true" displayname="ИД лота" view="invisible" />
      <E name="Способ_закупки_положение" datatype="text" index="true" displayname="Способ закупки положение" />
      <E name="Год_закупки" datatype="integer" index="true" displayname="Год закупки" view="invisible" />
      <S name="Заказчик_подразделение">
        <E name="Заказчик_подразделение" datatype="integer" index="true" extype="addressbook" abdata="Id" />
        <E name="Заказчик_подразделение_наименование" datatype="text" index="true" edit="tool(CallTools.AddressBookTool)" absettings="&lt;ROOT title=&quot;Адресная книга&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;False&quot; SelectedUser=&quot;False&quot; SelectedGroup=&quot;False&quot; SelectedDepartments=&quot;True&quot;&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;" />
      </S>
      <S name="Ответственный_исполнитель" displayname="Ответственный исполнитель">
        <E name="Ответственный_исполнитель" datatype="integer" index="true" displayname="Ответственный исполнитель" extype="addressbook" abdata="Id" view="invisible" />
        <E name="Ответственный_исполнитель_ФИО" datatype="text" index="true" displayname="Ответственный исполнитель ФИО" dictpath="" edit="textbox,tool(CallTools.AddressBookTool)" absettings="&lt;ROOT title=&quot;Ответственный исполнитель ФИО&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;False&quot; SelectedUser=&quot;True&quot; SelectedGroup=&quot;False&quot; SelectedDepartments=&quot;False&quot;&gt;&lt;DateDictionary Name=&quot;Persons&quot; DisplayName=&quot;Пользователи&quot; /&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;" required="false" abdata="Name" />
      </S>
      <S name="Ответственный_руководитель" displayname="Ответственный руководитель">
        <E name="Ответственный_руководитель" datatype="integer" index="true" displayname="Ответственный руководитель" extype="addressbook" abdata="Id" view="invisible" />
        <E name="Ответственный_руководитель_ФИО" datatype="text" index="true" displayname="Ответственный руководитель ФИО" dictpath="" edit="textbox,tool(CallTools.AddressBookTool)" absettings="&lt;ROOT title=&quot;Ответственный руководитель ФИО&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;False&quot; SelectedUser=&quot;True&quot; SelectedGroup=&quot;False&quot; SelectedDepartments=&quot;False&quot;&gt;&lt;DateDictionary Name=&quot;Persons&quot; DisplayName=&quot;Пользователи&quot; /&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;" required="false" abdata="Name" />
        <E name="Отдел" datatype="text" index="true" displayname="Отдел" />
      </S>
      <S name="Утвердивший" displayname="">
        <E name="Утвердивший" datatype="integer" index="true" displayname="" extype="addressbook" abdata="Id" required="" view="invisible" />
        <E name="Утвердивший_ФИО" datatype="text" index="true" displayname="Утвердивший ФИО" dictpath="" edit="textbox,tool(CallTools.AddressBookTool)" absettings="&lt;ROOT title=&quot;Утвердивший ФИО&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;False&quot; SelectedUser=&quot;True&quot; SelectedGroup=&quot;False&quot; SelectedDepartments=&quot;False&quot;&gt;&lt;DateDictionary Name=&quot;Persons&quot; DisplayName=&quot;Пользователи&quot; /&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;" required="true" abdata="Name" />
        <E name="Утвердивший_фамилия" datatype="text" index="true" required="false" displayname="Утвердивший фамилия" edit="textbox" dictpath="" extype="addressbook" abdata="SurName" view="invisible" />
        <E name="Утвердивший_имя" datatype="text" index="true" required="false" displayname="Утвердивший имя" dictpath="" extype="addressbook" abdata="FirstName" view="invisible" />
        <E name="Утвердивший_отчество" datatype="text" index="true" required="false" displayname="Утвердивший отчество" dictpath="" extype="addressbook" abdata="Patronymic" view="invisible" />
        <E name="Утвердивший_должность" datatype="text" index="true" displayname="Утвердивший должность" required="true" dictpath="" extype="addressbook" abdata="Post" />
      </S>
      <S name="Согласующий">
        <E name="Согласующий" datatype="integer" index="true" extype="addressbook" abdata="Id" />
        <E name="Согласующий_ФИО" datatype="text" index="true" displayname="Согласующий ФИО" edit="tool(CallTools.AddressBookTool)" abdata="Name" />
      </S>
      <E name="Требуется_согласование" datatype="boolean" index="true" />
      <E name="Основание_для_решения" datatype="longtext" index="true" displayname="Основание для решения" />
      <A name="Участники_комиссии" displayname="Участники комиссии" use="table">
        <S name="S1">
          <E name="Присутствие" datatype="boolean" index="true" displayname="Присутствие" default="0" required="true" />
          <E name="Номер" datatype="integer" index="true" />
          <S name="ФИО_комиссии" displayname="ФИО комиссии">
            <E name="ФИО_комиссии" datatype="text" index="true" displayname="ФИО комиссии" abdata="Id" extype="addressbook" />
            <E name="Фамилия_комиссии" datatype="text" index="true" displayname="Фамилия комиссии" extype="addressbook" />
            <E name="Имя_комиссии" datatype="text" index="true" displayname="Имя комиссии" extype="addressbook" />
            <E name="Отчество_комиссии" datatype="text" index="true" displayname="Отчество комиссии" extype="addressbook" />
          </S>
          <E name="Участники_комиссии_роль" datatype="dictionary(Роль участника комиссии,text)@Наименование" index="true" displayname="Участники комиссии роль" required="true" />
          <E name="Участники_комиссии_роль_код" datatype="dictionary(Роль участника комиссии,text)" index="true" dictpath="" />
          <E name="Участник_комиссии" datatype="text" index="true" displayname="Участник_комиссии" />
        </S>
      </A>
      <E name="Название_комиссии_код" datatype="text" index="true" displayname="Название_комиссии_код" />
      <E name="Название_комиссии" datatype="longtext" index="true" displayname="Название комиссии" />
      <E name="Адрес_ЭТП" datatype="text" index="true" displayname="Адрес_ЭТП" />
      <E name="Форма_торгов" datatype="text" index="true" displayname="Форма торгов" />
      <E name="Форма_торгов_код" datatype="text" index="true" displayname="Форма торгов код" />
      <E name="Название_закупки" datatype="longtext" index="true" displayname="Название закупки" />
      <E name="НМЦ_с_НДС" datatype="money" index="true" displayname="НМЦ_с_НДС" />
      <E name="Дата_окончания_подачи_заявок" datatype="datetime" index="true" displayname="Дата_окончания_подачи_заявок" />
      <A name="Заказчик_права_таблица" displayname="Заказчик права таблица">
        <S name="S1">
          <E name="Заказчик_код_права" datatype="integer" index="true" displayname="Заказчик код права" />
          <E name="Заказчик_наименование_права" datatype="text" index="true" displayname="Заказчик наименование права" />
        </S>
      </A>
      <E name="Закупка_в_электронной_форме" datatype="boolean" index="true" displayname="Закупка в электронной форме" />
      <E name="ИД_лота_на_ЭТП" datatype="text" index="true" displayname="ИД лота на ЭТП" />
      <E name="Наименование_ЭТП" datatype="text" index="true" displayname="Наименование ЭТП" />
      <E name="Количество_присутствующих_членов_комиссии" datatype="integer" index="true" displayname="Количество присутствующих членов комиссии" />
      <E name="Код_причины_признания_несостоявшейся" datatype="text" index="true" />
      <E name="Договор_заключается" datatype="boolean" index="true" displayname="Договор заключается" />
      <E name="Номер_переторжки" datatype="integer" index="true" displayname="Номер переторжки" view="invisible" />
      <E name="Проведена_переторжка" datatype="boolean" index="true" displayname="Проведена переторжка" view="invisible" />
      <E name="Тип_протокола_код" datatype="text" index="true" displayname="Тип протокола код" />
      <E name="Тип_протокола" datatype="text" index="true" displayname="Тип протокола" />
      <E name="Не_отправлять_данные_о_заявителях_в_ЕИС" datatype="boolean" index="true" displayname="Не отправлять данные о заявителях в ЕИС" />
      <E name="Не_отправлять_ценовые_предложения_заявителей_в_ЕИС" datatype="boolean" index="true" displayname="Не отправлять ценовые предложения заявителей в ЕИС" />
      <E name="Дата_и_время_проведения_этапа" datatype="datetime" index="true" displayname="Дата и время проведения этапа" />
      <E name="Место_проведения_этапа" datatype="longtext" index="true" displayname="Место_проведения этапа" />
      <E name="Дополнительная_информация" datatype="longtext" index="true" displayname="Дополнительная информация" />
      <S name="Инициатор" displayname="Инициатор">
        <E name="ФИО_инициатора" datatype="text" index="true" absettings="&lt;ROOT title=&quot;Выбор сотрудника&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;False&quot; SelectedUser=&quot;True&quot; SelectedGroup=&quot;False&quot; SelectedDepartments=&quot;False&quot;&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;" edit="textbox" displayname="ФИО инициатора" abdata="Name" extype="addressbook" />
        <E name="ИД_Инициатора" datatype="integer" index="true" extype="addressbook" displayname="ИД Инициатора" abdata="Id" view="invisible" />
        <E name="Должность_инициатора" datatype="text" index="true" displayname="Должность инициатора" abdata="Post" />
        <E name="Табельный_номер_инициатора" datatype="integer" index="true" displayname="Табельный номер инициатора" />
      </S>
      <A name="Заявки_участников" displayname="Заявки участников">
        <S name="S1">
          <E name="Наименование" datatype="longtext" index="true" />
          <E name="Результат_допуска" datatype="text" index="true" displayname="Результат допуска" />
          <E name="Результат_допуска_1х_частей" datatype="text" index="true" displayname="Результат допуска 1х частей" />
          <E name="Результат_допуска_2х_частей" datatype="text" index="true" displayname="Результат допуска 2х частей" />
          <E name="Основание_для_решения" datatype="longtext" index="true" displayname="Основание для решения" />
          <E name="Место_заявки" datatype="text" index="true" displayname="Место заявки" />
          <E name="ИД_заявки_на_ЭТП" datatype="text" index="true" displayname="ИД заявки на ЭТП" />
          <E name="Результат_допуска_код" datatype="text" index="true" displayname="Результат допуска код" />
          <E name="Результат_допуска_1х_частей_код" datatype="text" index="true" displayname="Результат допуска 1х частей код" />
          <E name="Результат_допуска_2х_частей_код" datatype="text" index="true" displayname="Результат допуска 2х частей код" />
          <E name="Причина_отказа_в_допуске" datatype="longtext" index="true" displayname="Причина отказа в допуске" />
          <E name="Причина_отказа_в_допуске_код" datatype="text" index="true" displayname="Причина отказа в допуске код" />
          <E name="Результат_допуска_квал" datatype="text" index="true" displayname="Результат допуска квал" />
          <E name="Результат_допуска_квал_код" datatype="text" index="true" displayname="Результат допуска квал код" />
          <E name="Номер_лота" datatype="text" index="true" displayname="Номер лота" />
          <E name="Номер_заявки" datatype="text" index="true" displayname="Номер заявки" />
          <E name="Не_подано_ценовое_предложение" datatype="boolean" index="true" displayname="Не подано ценовое предложение" />
          <E name="ид_заявки_участника" datatype="text" index="true" displayname="ид_заявки_участника" />
          <E name="Цена_участника_с_НДС" datatype="money" index="true" displayname="Цена_участника_с_НДС" />
          <E name="Цена_участника_без_НДС" datatype="money" index="true" displayname="Цена участника без НДС" />
          <E name="ЦП_вне_шага_с_НДС" datatype="money" index="true" displayname="ЦП вне шага с НДС" />
          <E name="ЦП_вне_шага_без_НДС" datatype="money" index="true" displayname="ЦП вне шага без НДС" />
          <E name="ЦП_с_НДС" datatype="money" index="true" displayname="ЦП с НДС" />
          <E name="ЦП_без_НДС" datatype="money" index="true" displayname="ЦП без НДС" />
          <E name="Процент_снижения_от_НМЦ" datatype="real" index="true" displayname="% снижения от НМЦ" />
          <E name="НДС" datatype="text" index="true" displayname="Ставка НДС" />
          <E name="Коэффициент_снижения_цен_без_НДС" datatype="real" index="true" displayname="Коэффициент снижения цен без НДС" />
          <E name="Дата_подачи_ЦП" datatype="datetime" index="true" displayname="Дата подачи ЦП" />
        </S>
      </A>
      <S name="Закупающее_подразделение" displayname="Закупающее подразделение">
        <E name="Код_закупающего_подразделения" datatype="integer" index="true" displayname="Код закупающего подразделения" extype="addressbook" abdata="Id" />
        <E name="Наименование_закупающего_подразделения" datatype="text" index="true" displayname="Наименование закупающего подразделения" extype="addressbook" abdata="Name" />
        <E name="Код_ПФМ_закупающего_подразделения" datatype="text" index="true" displayname="Код ПФМ закупающего подразделения" />
        <E name="ИД_закупающего_подразделения" datatype="text" index="true" displayname="ИД закупающего подразделения" />
      </S>
      <S name="Исполняющее_подразделение" displayname="Исполняющее_подразделение">
        <E name="Код_подразделения" datatype="integer" index="true" displayname="Код_подразделения" extype="addressbook" abdata="Id" />
        <E name="Подразделение" datatype="text" index="true" displayname="Подразделение" extype="addressbook" abdata="Name" />
        <E name="Код_ПФМ_исполняющего_подразделения" datatype="text" index="true" displayname="Код ПФМ исполняющего подразделения" />
        <E name="ИД_исполняющего_подразделения" datatype="text" index="true" displayname="ИД исполняющего подразделения" />
      </S>
      <E name="Номер_закупки" datatype="text" index="true" displayname="Номер закупки" />
      <E name="Валюта" datatype="dictionary(Валюта,text)@Наименование" index="true" dictpath="" edit="droplist" default="&quot;Российский рубль&quot;" />
      <E name="Цифровой_код_валюты" datatype="dictionary(Валюта,text)@Цифровой код" index="true" displayname="Цифровой код валюты" dictpath="" required="false" edit="textbox" default="&quot;643&quot;" view="invisible" />
      <E name="Код_валюты" datatype="dictionary(Валюта,text)@Валюта" index="true" displayname="Код валюты" dictpath="" required="false" default="&quot;RUB&quot;" view="invisible" />
      <A name="Заявки_участников_ПКО" displayname="Заявки участников ПКО">
        <S name="S1" displayname="S1">
          <E name="Наименование_ПКО" datatype="text" index="true" displayname="Наименование ПКО" />
          <E name="Результат_допуска_ПКО" datatype="text" index="true" displayname="Результат допуска ПКО" />
          <E name="Результат_допуска_код_ПКО" datatype="text" index="true" displayname="Результат допуска код ПКО" />
          <E name="Основание_для_решения_ПКО" datatype="text" index="true" displayname="Основание для решения ПКО" />
          <E name="Место_заявки_ПКО" datatype="text" index="true" displayname="Место заявки ПКО" />
          <E name="ИД_заявки_на_ЭТП_ПКО" datatype="text" index="true" displayname="ИД заявки на ЭТП ПКО" />
          <E name="Причина_отказа_в_допуске_ПКО" datatype="text" index="true" displayname="Причина отказа в допуске ПКО" />
          <E name="Причина_отказа_в_допуске_код_ПКО" datatype="text" index="true" displayname="Причина отказа в допуске код ПКО" />
          <E name="Номер_заявки" datatype="text" index="true" displayname="Номер заявки" />
        </S>
      </A>
      <E name="Результат" datatype="text" index="true" />
      <E name="Количество_допущенных_заявок" datatype="integer" index="true" displayname="Количество допущенных заявок" />
      <E name="Количество_отклоненных_заявок" datatype="integer" index="true" displayname="Количество отклоненных заявок" />
      <E name="Количество_поданных_заявок" datatype="integer" index="true" displayname="Количество поданных заявок" />
      <E name="Количество_допущенных_заявок_1х_частей" datatype="integer" index="true" />
      <E name="Количество_отклоненных_заявок_1х_частей" datatype="integer" index="true" />
      <E name="Количество_допущенных_заявок_2х_частей" datatype="integer" index="true" />
      <E name="Количество_отклоненных_заявок_2х_частей" datatype="integer" index="true" />
      <E name="Дата_создания" datatype="datetime" index="true" displayname="Дата создания" />
      <E name="Решили" datatype="text" index="true" displayname="Решили" />
      <E name="Решение" datatype="longtext" index="true" />
      <E name="СМП" datatype="boolean" index="true" />
      <E name="Решение_по_закупке_код" datatype="text" index="true" displayname="Решение по закупке код" />
      <E name="Решение_по_закупке" datatype="text" index="true" displayname="Решение по закупке" />
      <E name="Внутренний_номер" datatype="text" index="true" displayname="Внутренний номер" />
      <S name="Организация_документации" displayname="Организация документации">
        <E name="Организация_документации_наименование" datatype="text" index="true" displayname="Организация документации наименование" abdata="Name" />
        <E name="Организация_документации" datatype="integer" index="true" displayname="Организация документации" abdata="Id" extype="addressbook" />
      </S>
      <S name="Подразделение_инициатор" displayname="Подразделение инициатор">
        <E name="Подразделение_инициатор_наименование" datatype="text" index="true" displayname="Подразделение инициатор наименование" required="true" dictpath="" edit="tool(CallTools.AddressBookTool)" absettings="&lt;ROOT title=&quot;Организатор закупки&quot; IsMultiple=&quot;False&quot; CanSelectNobody=&quot;False&quot; SelectedUser=&quot;False&quot; SelectedGroup=&quot;False&quot; SelectedDepartments=&quot;True&quot;&gt;&lt;DateDictionary Name=&quot;Departments&quot; DisplayName=&quot;Структура предприятия&quot; /&gt;&lt;/ROOT&gt;" abdata="Name" />
        <E name="Подразделение_инициатор" datatype="integer" index="true" displayname="Подразделение инициатор" required="false" dictpath="" edit="textbox" abdata="Id" extype="addressbook" view="invisible" />
      </S>
      <S name="ГРБС" displayname="ГРБС">
        <E name="ГРБС_наименование" datatype="longtext" index="true" dictpath="" required="false" displayname="ГРБС_наименование" extype="addressbook" abdata="Name" />
        <E name="ГРБС" datatype="integer" index="true" displayname="ГРБС" required="false" dictpath="" extype="addressbook" abdata="Id" />
      </S>
      <E name="Отправить_лот_в_архив" datatype="boolean" displayname="Отправить лот в архив" index="true" default="0" />
      <E name="Количество_членов" datatype="integer" index="true" displayname="Количество членов" />
      <E name="Количество_За" datatype="integer" index="true" displayname="Количество За" />
      <E name="Кворум_собран" datatype="boolean" index="true" displayname="Кворум собран" />
      <E name="За" datatype="integer" index="true" displayname="За" />
      <E name="Попозиционная_закупка" datatype="boolean" index="true" displayname="Попозиционная закупка" />
      <A name="Позиции">
        <S name="S1">
          <E name="ОКПД2" datatype="dictionary(ОКПД2,text)" index="true" dictpath="" edit="textbox" dictionarySelectionStartLevel="2" requiredex=" Указать_позиции =0" relevant=" Указать_позиции =0" />
          <E name="ОКПД2_наименование" datatype="longtext" index="true" displayname="ОКПД2 наименование" dictpath="" edit="textbox" relevant=" Указать_позиции =0" />
          <E name="ОКЕИ" datatype="dictionary(ОКЕИ,text)" index="true" dictpath="" view="invisible" displayname="ОКЕИ" />
          <E name="ОКЕИ_наименование" datatype="dictionary(ОКЕИ,text)@Наименование" index="true" displayname="ОКЕИ наименование" dictpath="" edit="textbox" view="invisible" />
          <E name="Единица_измерения" datatype="dictionary(ОКЕИ,text)@Условное обозначение" index="true" displayname="Единица измерения" dictpath="" edit="textbox" required="false" requiredex=" Указать_позиции =0" relevant=" Указать_позиции =0" />
          <E name="ОКВЭД2" datatype="dictionary(ОКВЭД2,text)" index="true" edit="textbox" dictpath="" requiredex=" Указать_позиции =0" relevant=" Указать_позиции =0" />
          <E name="ОКВЭД2_наименование" datatype="longtext" index="true" displayname="ОКВЭД2 наименование" dictpath="" edit="textbox" relevant=" Указать_позиции =0" />
          <E name="Количество" datatype="real" index="true" required="false" relevant=" Указать_позиции =0" displayname="Количество" />
          <E name="ИД_позиции_лота" datatype="text" index="true" displayname="ИД позиции лота" view="invisible" />
          <E name="Наименование_позиции" datatype="longtext" index="true" displayname="Наименование позиции" />
          <E name="Цена" datatype="money" index="true" displayname="Цена" />
          <E name="Общая_стоимость" datatype="money" index="true" displayname="Общая стоимость" />
          <E name="Невозможно_определить_количество" datatype="boolean" index="true" displayname="Невозможно определить количество" />
          <E name="ОКАТО_позиции" datatype="text" index="true" displayname="ОКАТО_позиции" />
          <E name="Регион_позиции" datatype="text" index="true" displayname="Регион_позиции" />
          <E name="Цена_в_рублях" datatype="money" index="true" displayname="Цена в рублях" />
          <E name="Общая_стоимость_в_рублях" datatype="money" index="true" displayname="Общая стоимость в рублях" />
          <E name="Дополнительные_сведения" datatype="longtext" index="true" displayname="Дополнительные сведения" />
          <E name="ИД_на_ЭТП" datatype="text" index="true" displayname="ИД на ЭТП" />
          <E name="Предпочтительная_торговая_марка" datatype="longtext" index="true" displayname="Предпочтительная торговая марка" />
          <E name="Закупочная_категория_код" datatype="dictionary(Категории закупки РТК,text)@Категория закупки РТК" index="true" displayname="Закупочная категория код" edit="textbox" />
          <E name="Закупочная_категория" datatype="dictionary(Категории закупки РТК(Наименоване),longtext)@Наименование" index="true" displayname="Закупочная категория" edit="combobox,tool(CallTools.DictionaryView)" />
          <E name="Централизованная_категория" datatype="text" index="true" displayname="Централизованная_категория" />
          <E name="Цена_за_единицу" datatype="money" index="true" displayname="Цена за единицу" />
          <E name="Сумма_позиции" datatype="money" index="true" displayname="Сумма позиции" />
          <E name="Позиция_из_справочника" datatype="text" index="true" displayname="Позиция из справочника" />
          <E name="Наименование_позиции_из_справочника" datatype="longtext" index="true" displayname="Наименование позиции из справочника" />
          <E name="ОКПД2_наименование_из_справочника" datatype="longtext" index="true" displayname="ОКПД2 позиции" />
          <E name="ОКВЭД2_наименование_из_справочника" datatype="longtext" index="true" displayname="ОКВЭД2 позиции" />
          <E name="ОКПД2_код" datatype="text" index="true" displayname="ОКПД2 код" />
          <E name="ОКПД2_наименование_код" datatype="text" index="true" displayname="ОКПД2 наименование код" />
          <E name="Номер_позиции_код" datatype="integer" index="true" displayname="Номер позиции код" />
          <E name="Перечни_ТРУ" datatype="text" index="true" displayname="Перечни ТРУ" />
          <E name="Тип_объекта_закупки" datatype="text" index="true" displayname="Тип объекта закупки" />
          <E name="Тип_объекта_закупки_наименование" datatype="text" index="true" displayname="Тип объекта закупки наименование" />
          <E name="Цена_за_единицу_ТРУ" datatype="money" index="true" displayname="Цена за единицу ТРУ" />
          <E name="ИД_позиции_на_ЭТП" datatype="text" index="true" displayname="ИД позиции на ЭТП" />
          <A name="Характеристики_товара" displayname="Характеристики товара" use="table">
            <S name="S1">
              <E name="unit_id" datatype="text" index="true" displayname="unit_id" />
              <E name="Наименование_товара" datatype="longtext" index="true" displayname="Наименование товара" />
              <E name="Производитель" datatype="text" index="true" displayname="Производитель" />
              <E name="Страна_происхождения_товара_код" datatype="text" index="true" displayname="Страна происхождения товара код" />
              <E name="Страна_происхождения_товара" datatype="text" index="true" displayname="Страна происхождения товара" />
              <E name="Торговая_марка" datatype="text" displayname="Торговая марка" index="true" />
              <E name="Соответствующее_наименование_ТУ" datatype="longtext" index="true" displayname="Соответствующее наименование ТУ" />
              <E name="Цена_за_единицу_без_НДС" datatype="money" index="true" displayname="Цена за единицу без НДС" />
              <E name="Ставка_НДС_за_единицу" datatype="text" index="true" displayname="Ставка НДС за единицу" />
              <E name="Цена_за_единицу_с_НДС" datatype="money" index="true" displayname="Цена за единицу с НДС" />
              <E name="Комментарий_поставщика" datatype="longtext" index="true" displayname="Комментарий поставщика" />
              <E name="ХТ_ИД_на_ЭТП" datatype="text" index="true" displayname="ХТ ИД на ЭТП" />
              <E name="ХТ_ид_заявки_участника" datatype="text" index="true" displayname="ХТ ид заявки участника" />
              <E name="ХТ_Участник_заявки_наименование" datatype="text" index="true" displayname="ХТ Участник заявки наименование" />
              <E name="ХТ_Место_Заявки" datatype="text" index="true" displayname="ХТ Место Заявки" />
              <E name="ХТ_Результат_допуска_код" datatype="text" index="true" displayname="ХТ Результат допуска код" />
              <E name="ХТ_Результат_допуска" datatype="text" index="true" displayname="ХТ Результат допуска" />
              <E name="ХТ_Участник_код_на_ЭТП" datatype="text" index="true" displayname="ХТ Участник код на ЭТП" />
            </S>
          </A>
          <E name="Без_объявления_цены" datatype="boolean" index="true" displayname="Без объявления цены" />
          <E name="Цена_за_единицу_без_НДС" datatype="money" index="true" displayname="Цена за единицу без НДС" />
          <E name="Ставка_НДС" datatype="real" index="true" displayname="Ставка НДС" />
          <E name="Цена_за_единицу_с_НДС" datatype="money" index="true" displayname="Цена за единицу с НДС" />
          <E name="Итоговая_цена_без_НДС" datatype="money" index="true" displayname="Итоговая цена без НДС" />
          <E name="Итоговая_цена_с_НДС" datatype="money" index="true" displayname="Итоговая цена с НДС" />
        </S>
      </A>
      <E name="Изменения" datatype="boolean" index="true" displayname="Изменения" />
      <E name="ParentRK" datatype="text" index="true" displayname="ParentRK" />
      <E name="Неактуальный" datatype="boolean" index="true" displayname="Неактуальный" />
      <E name="Коэффициент_снижения" datatype="boolean" index="true" displayname="Коэффициент снижения" />
      <S name="Сбербанк_АСТ" displayname="Сбербанк АСТ">
        <E name="ИД_документа_на_ЭТП" datatype="integer" index="true" displayname="ИД документа на ЭТП" />
        <S name="Общие_параметры_стадий_по_лоту" displayname="Общие параметры стадий по лоту">
          <E name="Тип_стадии_по_лоту_код" datatype="text" index="true" displayname="Тип стадии по лоту код" />
          <E name="Тип_стадии_по_лоту_наименование" datatype="longtext" index="true" displayname="Тип стадии по лоту наименование" />
          <E name="Текущее_лучшее_предложение_среди_заявок" datatype="money" index="true" displayname="Текущее лучшее предложение среди заявок" />
          <E name="Начальная_цена_этапа" datatype="money" index="true" displayname="Начальная цена этапа" />
          <E name="Учитывать_предложения_о_цене_в_этапе" datatype="boolean" index="true" displayname="Учитывать предложения о цене в этапе" />
          <S name="Детализация_предложения" displayname="Детализация предложения">
            <E name="Детализация_предложения_код" datatype="text" index="true" displayname="Детализация предложения код" />
            <E name="Детализация_предложения_наименование" datatype="text" index="true" displayname="Детализация предложения наименование" />
          </S>
        </S>
        <S name="Параметры_торгового_этапа" displayname="Параметры торгового этапа">
          <E name="Дата_и_время_начала_торгов" datatype="datetime" index="true" displayname="Дата и время начала торгов" />
          <E name="Минимальный_шаг_торгов" datatype="real" index="true" displayname="Минимальный шаг торгов" />
          <E name="Максимальный_шаг_торгов" datatype="real" index="true" displayname="Максимальный шаг торгов" />
          <E name="Сформировать_запрос_сведений" datatype="boolean" index="true" displayname="Сформировать запрос сведений" />
          <E name="Продолжительность_времени_для_ответа_на_запрос" datatype="real" index="true" displayname="Продолжительность времени для ответа на запрос" />
        </S>
        <S name="Параметры_неторговых_этапов" displayname="Параметры неторговых этапов">
          <E name="Дата_начала_этапа" datatype="datetime" index="true" displayname="Дата начала этапа" />
          <E name="Дата_окончания_этапа" datatype="datetime" index="true" displayname="Дата окончания этапа" />
        </S>
        <S name="Комиссия" displayname="Комиссия">
          <E name="Номер_комиссии" datatype="text" index="true" displayname="Номер комиссии" />
          <E name="Результат_работы_комиссии" datatype="longtext" index="true" displayname="Результат работы комиссии" />
        </S>
        <S name="Сведения_о_протоколе" displayname="Сведения о протоколе">
          <E name="Дата_и_время_проведения_этапа_процедуры" datatype="datetime" index="true" displayname="Дата и время проведения этапа процедуры" />
          <E name="Место_проведения_этапа" datatype="longtext" index="true" displayname="Место проведения этапа" />
          <E name="Дополнительная_информация" datatype="longtext" index="true" displayname="Дополнительная информация" />
          <E name="Направить_в_ЕИС" datatype="boolean" index="true" displayname="Направить в ЕИС" />
          <E name="Тип_протокола" datatype="longtext" index="true" displayname="Тип протокола" />
          <E name="Комментарий_к_описанию_события" datatype="longtext" index="true" displayname="Комментарий к описанию события" />
        </S>
        <S name="Завершить_проведение_процедуры" displayname="Завершить проведение процедуры">
          <E name="Завершить_проведение_процедуры_код" datatype="text" index="true" displayname="Завершить проведение процедуры код" />
          <E name="Завершить_проведение_процедуры_наименование" datatype="longtext" index="true" displayname="Завершить проведение процедуры наименование" />
        </S>
        <E name="Этап_протокола" datatype="text" index="true" displayname="Этап протокола" />
        <S name="Дополнительные_этапы" displayname="Дополнительные этапы">
          <E name="Код_этапа" datatype="text" index="true" displayname="Код этапа" />
          <E name="Наименование_этапа" datatype="longtext" index="true" displayname="Наименование этапа" />
        </S>
        <E name="СбАСТ_Договор_заключается" datatype="boolean" index="true" displayname="СбАСТ_ Договор заключается"/>
      </S>
      <A name="Лоты" displayname="Лоты">
        <S name="S1">
          <A name="Заявки_участников" displayname="Заявки участников">
            <S name="S1">
              <E name="Наименование" datatype="longtext" index="true" />
              <E name="Результат_допуска" datatype="text" index="true" displayname="Результат допуска" />
              <E name="Результат_допуска_1х_частей" datatype="text" index="true" displayname="Результат допуска 1х частей" />
              <E name="Результат_допуска_2х_частей" datatype="text" index="true" displayname="Результат допуска 2х частей" />
              <E name="Основание_для_решения" datatype="longtext" index="true" displayname="Основание для решения" />
              <E name="Место_заявки" datatype="text" index="true" displayname="Место заявки" />
              <E name="ИД_заявки_на_ЭТП" datatype="text" index="true" displayname="ИД заявки на ЭТП" />
              <E name="Результат_допуска_код" datatype="text" index="true" displayname="Результат допуска код" />
              <E name="Результат_допуска_1х_частей_код" datatype="text" index="true" displayname="Результат допуска 1х частей код" />
              <E name="Результат_допуска_2х_частей_код" datatype="text" index="true" displayname="Результат допуска 2х частей код" />
              <E name="Причина_отказа_в_допуске" datatype="longtext" index="true" displayname="Причина отказа в допуске" />
              <E name="Причина_отказа_в_допуске_код" datatype="text" index="true" displayname="Причина отказа в допуске код" />
              <E name="Результат_допуска_квал" datatype="text" index="true" displayname="Результат допуска квал" />
              <E name="Результат_допуска_квал_код" datatype="text" index="true" displayname="Результат допуска квал код" />
              <E name="Номер_лота" datatype="text" index="true" displayname="Номер лота" />
              <E name="Номер_заявки" datatype="text" index="true" displayname="Номер заявки" />
              <E name="Не_подано_ценовое_предложение" datatype="boolean" index="true" displayname="Не подано ценовое предложение" />
              <E name="ид_заявки_участника" datatype="text" index="true" displayname="ид_заявки_участника" />
              <E name="Цена_участника_с_НДС" datatype="money" index="true" displayname="Цена_участника_с_НДС" />
              <E name="Цена_участника_без_НДС" datatype="money" index="true" displayname="Цена участника без НДС" />
              <E name="ЦП_вне_шага_с_НДС" datatype="money" index="true" displayname="ЦП вне шага с НДС" />
              <E name="ЦП_вне_шага_без_НДС" datatype="money" index="true" displayname="ЦП вне шага без НДС" />
              <E name="ЦП_с_НДС" datatype="money" index="true" displayname="ЦП с НДС" />
              <E name="ЦП_без_НДС" datatype="money" index="true" displayname="ЦП без НДС" />
              <E name="Процент_снижения_от_НМЦ" datatype="real" index="true" displayname="% снижения от НМЦ" />
              <E name="НДС" datatype="text" index="true" displayname="Ставка НДС" />
              <E name="Коэффициент_снижения_цен_без_НДС" datatype="real" index="true" displayname="Коэффициент снижения цен без НДС" />
              <E name="Дата_подачи_ЦП" datatype="datetime" index="true" displayname="Дата подачи ЦП" />
              <E name="Заключить_договор" datatype="text" index="true" displayname="Заключить договор" />
              <E name="Дата_подачи_заявки" datatype="datetime" index="true" displayname="Дата подачи заявки" />
              <E name="Сведения_о_предложении_о_цене" datatype="longtext" index="true" displayname="Сведения о предложении о цене" />
              <S name="Валюта" displayname="Валюта">
                <E name="Валюта" datatype="text" index="true" displayname="Валюта" />
                <E name="Цифровой_код_валюты" datatype="text" index="true" displayname="Цифровой код валюты" />
                <E name="Код_валюты" datatype="text" index="true" displayname="Код валюты" />
              </S>
              <E name="Результат_оценки" datatype="real" index="true" displayname="Результат оценки" />
              <E name="Цена_участника" datatype="money" index="true" displayname="Цена участника" />
              <E name="Предложение_в_составе_заявки" datatype="money" index="true" displayname="Предложение в составе заявки" />
            </S>
          </A>
          <E name="ИД_лота_на_ЭТП" datatype="text" index="true" displayname="ИД лота на ЭТП" />
          <E name="Номер_лота_в_извещении" datatype="text" index="true" displayname="Номер лота в извещении" />
          <E name="Предмет_договора" datatype="longtext" index="true" displayname="Предмет договора" />
          <S name="Результат_по_лоту" displayname="Результат по лоту">
            <E name="Результат_по_лоту_код" datatype="text" index="true" displayname="Результат по лоту код" />
            <E name="Результат_по_лоту_наименование" datatype="text" index="true" displayname="Результат по лоту наименование" />
          </S>
          <E name="С_учетом_НДС" datatype="boolean" index="true" displayname="С учетом НДС" />
          <S name="Валюта" displayname="Валюта">
            <E name="Валюта" datatype="text" index="true" displayname="Валюта" />
            <E name="Цифровой_код_валюты" datatype="text" index="true" displayname="Цифровой код валюты" />
            <E name="Код_валюты" datatype="text" index="true" displayname="Код валюты" />
          </S>
          <E name="Статус_лота" datatype="text" index="true" displayname="Статус лота" />
          <E name="Макс_количество_победителей" datatype="integer" index="true" displayname="Макс_количество_победителей" />
          <E name="Лот_договор_заключается" datatype="boolean" index="true" displayname="Лот договор заключается"/>
        </S>
      </A>
      <E name="Создана_из_процедуры" datatype="boolean" index="true" displayname="Создана из процедуры" />
      <E name="VersionGuid" datatype="text" index="true" displayname="VersionGuid" />
      <E name="Актуальность" datatype="boolean" index="true" displayname="Актуальность" />
      <E name="Продолжить_рассмотрение_единственной_заявки" datatype="boolean" index="true" displayname="Продолжить рассмотрение единственной заявки" />
    </S>
    <S name="Files" use="FilesPlan" displayname="Файлы">
      <E name="header" datatype="text" index="false" value="&quot;Документация&quot;" />
      <E name="subheader" datatype="text" index="false" />
    </S>
    <S name="FilesIntegration" use="FilesIntegration" displayname="Файлы интеграции">
      <E name="header" datatype="text" index="false" value="&quot;Файлы интеграции&quot;" />
      <E name="subheader" datatype="text" index="false" />
    </S>
  </CONTENT_MODEL>
  <SCRIPT language="VBScript">Dim oTrace

Dim saveCheck
saveCheck=0

Sub generate_num

'oTrace.Trace " VBCRPT generate_num..."

  Dim rn
  pref = Data("|Document|Префикс_регномера").Value
  num = Data("|Document|Число_регномера").Value
  suf = Data("|Document|Суффикс_регномера").Value

 if Len(num) = 0 then
'	oTrace.Trace " VBCRPT End generate_num(Нет номера)"
	Exit Sub
 end if

  if Len(pref)&gt;0 then
	rn = CStr(rn) + pref + "-"
  end if
  rn = CStr(rn) + CStr(num)
  if Len(suf)&gt;0 then
     rn = CStr(rn) + "-" + CStr(suf)
  end if

    Data("|Document|Регистрационный_номер")=CStr(rn)
    Exit Sub

'  oTrace.Trace " VBCRPT End generate_num"
  err_exit:
  Form.MsgBox err.Description
End Sub
    

Sub clear_all_readonly
'   oTrace.Trace " VBCRPT clear_all_readonly..."
    Data("|Document|Число_регномера").Attribute("readonly")=""
'      oTrace.Trace " VBCRPT end clear_all_readonly"
End Sub

 Sub prepare_completed
'   oTrace.Trace " VBCRPT prepare_completed..."
    clear_all_readonly
    Data("|Document|Число_регномера").Attribute("readonly")="true"
'   oTrace.Trace " VBCRPT End prepare_completed"
    End Sub

    Sub prepare_wfclosed
'    oTrace.Trace " VBCRPT prepare_wfclosed..."
'    oTrace.Trace " VBCRPT End prepare_wfclosed"
    End Sub

    Sub prepare_finder
'    oTrace.Trace " VBCRPT prepare_finder..."
    clear_all_readonly
'    oTrace.Trace " VBCRPT End prepare_finder"
    End Sub

    Sub prepare_registration
'    oTrace.Trace " VBCRPT prepare_registration..."
    clear_all_readonly
    Data("|Document|Число_регномера").Attribute("readonly")="true"
'    oTrace.Trace " VBCRPT End prepare_registration"
    End Sub

    Sub Form_NamedEvent( evt )
'    oTrace.Trace " VBCRPT Form_NamedEvent..."
    if evt = "dfmakestrregnum" then
    generate_num
    End If
    if evt = "dfrgmregistration" then
    prepare_registration
    End If
    if evt = "dfrgmfinder" then
    prepare_finder
    End If
    if evt = "dfrgmcompleted" then
    prepare_completed
    End If
    if evt = "dfrgmwfclosed" then
    prepare_wfclosed
    End if


    if evt="dfpreparestrregnum" then 'началось сохранение документа
       saveCheck=1
    end if

    if evt="dfmakestrregnum" then 'закончилось сохранение документа
       saveCheck=0
    end if

'   oTrace.Trace " VBCRPT End Form_NamedEvent"
    End Sub

Set ctx = CreateObject("Form.ExecutionContext")

    Sub Form_Load
'    Set oTrace = CreateObject("TRACE.VBTracer")
'    oTrace.Trace " VBCRPT End Form_Load"

    End Sub

    Sub Form_Unload
'    oTrace.Trace " VBCRPT Form_Unload..."
'    Set oTrace = Nothing
    End Sub

    sub form_FieldDataChanged(field)
    s = field.Attribute("frm.abstoredata")
    if s &lt;&gt; "" and field.Value = "" then
    Set arr = field.Parent(s)
    if not arr is nothing then
    arr.RemoveAll
    end if
    end if



   ' Документ не сохраняется
   if saveCheck=0 then

          ' Очистили поле Организация_заказчик
          if field.name = "Организация_заказчик" and Len(field.value)=0 then
                  Data("|Document|Организация_заказчик|Организация_заказчик_код")= ""
          end if

          ' Очистили поле Организация_публикующая_сведения
       '   if field.name = "Организация_публикующая_сведения" and Len(field.value)=0 then
             '     Data("|Document|Организация_публикующая_сведения|Организация_публикующая_сведения_код")= ""
      '    end if


    end if

end sub</SCRIPT>
  <plugins>
    <restriction displayname="Генерация номера" progid="Euphfrm.RegNumGenerator" root="" initstring="">
      <arg role="numberdoc" path="|S|Число_регномера" />
      <arg role="flow" path="|S|ИД_потока" />
      <arg role="regnum" path="|S|Регистрационный_номер" />
      <checkentry type="onevent" param="dfgenerateregnum" action="error" />
    </restriction>
    <dictionary name="Тип связки" progid="FrmTools.DictSource" inittime="once" initstring="stored:Тип связки" />
    <dictionary name="Статусы плана" progid="FrmTools.DictSource" inittime="once" initstring="stored:Статусы плана" />
    <dictionary name="Организации" progid="FrmTools.DictSource" inittime="field" initstring="stored:Организации" view="" />
    <dictionary name="Организации заказчики" progid="FrmTools.DictSource" inittime="field" initstring="stored:Организации заказчики" />
  </plugins>
</FORM_DESCRIPTION>