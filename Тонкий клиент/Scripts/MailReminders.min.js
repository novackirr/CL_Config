(function(){})(window.ct=window.ct||{}),function(n){function t(n){this._baseUrl=n[n.length-1]==="/"?n:n+"/"}n.MailRemindersApiService=t;t.prototype=Object.create(ct.api.ApiService.prototype);t.prototype.constructor=t;t.prototype.getItems=function(){var n=this._baseUrl+"GetUserRemindersJson";return this.post(n,null,function(){},"json").then(function(n){return n.response})};t.prototype.removeItem=function(n){var t=this._baseUrl+"DeleteMailReminderJson";return this.post(t,n).then(function(n){return n.response.data})};t.create=function(n){return new t(n)}}((window.ct=window.ct||{},window.ct.api=window.ct.api||{})),function(){}(window.ct=window.ct||{}),function(){function o(){function o(){return function(n,t){$("<a>"+t.value+"<\/a>").addClass("search-result-cell-value").attr("href",t.data.docUrl).appendTo(n)}}var s=$(n.containerSelector).attr("data-base-url");t=ct.api.MailRemindersApiService.create(s);f=$(n.containerSelector).dxResponsiveBox({rows:[{ratio:1}],cols:[{ratio:1}]});i=new DevExpress.data.CustomStore({key:"id",load:function(){return t.getItems().then(function(n){return u=n.data,n.data})},remove:function(i){t.removeItem(i).then(function(){$(n.dataGridSelector).dxDataGrid("instance").refresh()})}});r=new DevExpress.data.DataSource({store:i,pageSize:3});DevExpress.localization.locale("ru");e=$(n.dataGridSelector).dxDataGrid({columns:[{caption:"Дата создания",dataField:"createDateTime",dataType:"date",calculateCellValue:function(n){return moment(n.createDateTime,"YYYY-MM-DDTHH:mm:ss").format("DD.MM.YYYY HH:mm")},cellTemplate:o(),allowEditing:!1,width:"15%"},{caption:"Дата доставки",dataField:"deliveryDateTime",dataType:"date",calculateCellValue:function(n){return moment(n.deliveryDateTime,"YYYY-MM-DDTHH:mm:ss").format("DD.MM.YYYY HH:mm")},cellTemplate:o(),allowEditing:!1,width:"15%"},{caption:"Документ",dataField:"docUrl",cellTemplate:o(),allowEditing:!1,width:"auto"},{caption:"Сообщение",dataField:"message",cellTemplate:o(),allowEditing:!1},{cellTemplate:function(n,t){$('<div title="Удалить" style="text-align: center"><div class="glyphicon glyphicon-remove-circle" style="cursor:pointer; text-align: center"/><\/div>').on("dxclick",function(){t.component.deleteRow(t.rowIndex)}).appendTo(n)},width:"40",allowResizing:!1,allowReordering:!1,allowGrouping:!1,allowSorting:!1}],dataSource:r,remoteOperations:{paging:!1},editing:{texts:{confirmDeleteMessage:""}},scrolling:{mode:"infinite",rowRenderingMode:"virtual"},selection:{mode:"none"},repaintChangesOnly:!0,allowColumnReordering:!0,allowColumnResizing:!0,hoverStateEnabled:!0,cellHintEnabled:!0,filterRow:{visible:!0,applyFilter:"auto"},grouping:{contextMenuEnabled:!0},groupPanel:{visible:!0},onRowClick:function(n){n.rowElement.toggleClass("dx-datagrid-wrap")}})}var n={containerId:"mail-reminders-container",dataGridId:"mail-reminders-datagrid",containerSelector:"#mail-reminders-container",dataGridSelector:"#mail-reminders-datagrid"},f,e,t,i,r,u;o();u=[]}((window.ct=window.ct||{},window.ct.utils=window.ct.utils||{}));