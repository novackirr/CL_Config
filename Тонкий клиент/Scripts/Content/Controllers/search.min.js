"use strict";(function(){function i(){var i=$(".search-form-container").find("form").first(),l=i.find(".search-content-buttons button.search-btn"),a=i.find(".reset-button"),c=i.find(".search-content-buttons button.extended-search-button"),e="#content-search-loading-image",o="#extra-search-fields";h(i);l.click(function(t){return setPreventDefault(t),i.parsley().whenValidate().done(function(){var o,u;showLoadingIndicator(e);$("form").find(".checkbox-wrapper input[type=checkbox]").each(function(n,t){var i=$(t);i.is(":checked")?i.siblings().removeAttr("name"):i.siblings().attr("name",i.attr("name"))});var t=$(".search-result-container")[0],s=$(i).attr("action"),f=$(i).attr("method"),r=null;f&&f.toLocaleLowerCase()==="post"&&(o=i.serializeArray(),u=$("#"+n),u.length===0&&(u=$("<input>").attr({type:"hidden",id:n,name:n,disabled:!0}).appendTo(i)),u.val(JSON.stringify(o)),r=o);r||(r=i.serialize());$.ajax({url:s,type:f,data:r,cache:!1,success:function(n){var i=$("<div>");i.html($.parseHTML(n,document,!0));var r=i.find(".application-errors"),u=i.find(".search-result").parent(),f=i.find(".search-result-empty").parent(),o=i.find("#content-login-form");r.length?$(t).html(r.html()):u.length?$(t).html(u.html()):f.length?$(t).html(f.html()):o.length?location.reload():$(t).html(i.find(".page-body").html());hideLoadingIndicator(e);reinitialiseScripts()},error:function(n){t.html(n.responseText);hideLoadingIndicator(e)}})}),!1});c.click(function(){var n=$(this);n.toggleClass("active");r(n,o)});a.click(function(){u(i)});f(o);r(c,o);t=s(i)}function u(i){i[0].reset();ChronoGroups&&ChronoGroups.ResetPickers();$(i).find(".column-container input[type='hidden'][name]").each(function(n,i){var r=$(i),u=r.attr("name"),f=t[u];$(i).val(f)});$(i).find("input[data-number-type='integer'],input.money").each(function(n,t){var i=$(t);i.autoNumeric("wipe")});fillDictDisplayValues();i.find(".dropdown-menu.multiple-editor-list").empty();i.find(".dict-dropdown ul li").remove();i.find(".mult-dict-display").closest(".dict-modal-control").each(function(n,t){var i=$(t),r=i.attr("data-edit-name");$("[data-parent-name='"+r+"parent']").val("")});$(i).find("#"+n).remove()}function r(n,t){n.hasClass("active")?e(t):o(t)}function f(n){$(n).find("input, select, textarea, button").filter("[disabled]").each(function(){$(this).attr("data-edit-disabled",!0)})}function e(n){$(n).find("input, select, textarea, button").each(function(){$(this).attr("data-edit-disabled")||$(this).removeAttr("disabled")})}function o(n){$(n).find("input, select, checkbox, textarea, button").each(function(){$(this).attr("disabled",!0)})}function s(n){var t=[];return $(n).find(".column-container input[name][type='hidden']").each(function(n,i){var r=$(i),u=r.val(),f=r.attr("name");t[f]=u}),t}function h(n){if(n&&n.length!==0)n.parsley({excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden], [disabled]",triggerAfterFailure:"input change",validationThreshold:3,uiEnabled:!0,errorsWrapper:null}).on("field:validated",function(){var n=this;c(n)})}function c(n){var t=n.$element.closest(".documentView-field-value"),i=getLabelContainer(n.$element);n.isValid()?(t.removeClass("has-error"),i.removeClass("has-error")):(t.addClass("has-error"),i.addClass("has-error"))}var t=[],n="hfSearchFormData";i();$(document).on("onDocumentAjaxLoaded",function(){i()})})();